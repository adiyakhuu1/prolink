generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model user {
  id           String   @id @unique @default(nanoid())
  email        String   @unique
  firstName    String
  lastName     String
  birthday     DateTime
  role         String
  companyName  String
  phoneNumber  String   @unique
  password     String
  salary       Int      @default(10000)
  salaryType   String   @default("ONETIME")
  pfp          String
  about        String?
  profileViews Int      @default(0)
  reviewee     review[] @relation("reviewee_")
  reviewer     review[] @relation("reviewer_")
  skill        skill[]  @relation("skillTouser")
}

model otp {
  id    String @id @default(nanoid())
  otp   Int    @unique
  email String
}

model skill {
  id   String @id @default(nanoid())
  name String @unique
  user user[] @relation("skillTouser")
}

model review {
  id         String @id @default(nanoid())
  rating     Int
  reviewerId String
  revieweeId String
  reviewee   user   @relation("reviewee_", fields: [revieweeId], references: [id])
  reviewer   user   @relation("reviewer_", fields: [reviewerId], references: [id])
}
